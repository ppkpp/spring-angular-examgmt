<!-- Loading Spinner -->
<div *ngIf="isLoading" class="text-center my-5">
    <div class="spinner-border" style="color: #0097B2;" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3 text-muted">Loading users...</p>
</div>

<!-- Member List -->
<div *ngIf="!isLoading && users.length > 0" class="container mt-4">
    <div class="card shadow border-0 rounded-4">
        <div class="card-body">
            <h4 class="fw-bold mb-4" style="color: #0097B2;">üßë‚Äçüíª Member List</h4>
            <div class="table-responsive">
                <table class="table table-hover align-middle">
                    <thead style="background-color: #0097B2;" class="text-white">
                        <tr>
                            <th>#</th>
                            <th>Username</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Role</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let user of users; index as i">
                            <td>{{ i + 1 }}</td>
                            <td>{{ user.username }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.phone }}</td>
                            <td>
                                <span class="badge bg-info text-dark px-3 py-1 rounded-pill">{{ user.role }}</span>
                            </td>
                            <td>
                                <button class="btn btn-sm text-white me-2" style="background-color: #ffc107;"
                                    (click)="onEdit(user.id)">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn btn-sm text-white" style="background-color: #dc3545;"
                                    (click)="onDelete(user.id)">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <app-pagination [totalPages]="totalPages" [currentPage]="currentPage" (pageChange)="changePage($event)">
            </app-pagination>
        </div>
    </div>
</div>

<!-- Empty State -->
<div *ngIf="!isLoading && users.length === 0" class="alert alert-info text-center mt-5">
    <p class="mb-0">No users found. Please check back later.</p>
</div>